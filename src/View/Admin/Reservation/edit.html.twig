{% extends 'admin.html.twig' %}

{% block content %}

{% if session.isAdmin == true %}

<div uk-grid>
    <div>
    <div class="uk-card uk-card-default uk-card-body">
    <h3 class="uk-card-title">Modifier Réservation</h3>

<form method="post">
    <fieldset class="uk-fieldset">

        <div class="uk-margin">
            <select class="uk-input" name="client_id" type="text" placeholder="sélectionner un client" aria-label="Input" disabled required>
            <option>{{ reservation.nom }} {{ reservation.prenom }}</option>
            </select>
        </div>
        
        <div class="uk-margin">
            <select class="uk-input" name="menus_id" type="text" placeholder="sélectionner un menu" aria-label="Input" required>
            <option>{{reservation.menu_nom}}</option>
            {% for menu in menus %}
            <option value={{menu.id}}>{{ menu.nom }}</option>
            {% endfor %}
            </select>
        </div>
        {% if errors.menus_id is defined %} 
                    <div class="uk-alert-danger" uk-alert>
                        <a href class="uk-alert-close" uk-close></a>
                        <p>{{ errors.menus_id }}</p>
                    </div>
        {% endif %}

       <div class="uk-margin">    
            <select class="uk-input" name="nombrepersonnes" type="text" placeholder="Nombre de personnes" aria-label="Input" required>
                <option>{{reservation.nombrepersonnes}}</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
            </select>
        </div> 
        {% if errors.nombreperonnes is defined %} 
                    <div class="uk-alert-danger" uk-alert>
                        <a href class="uk-alert-close" uk-close></a>
                        <p>{{ errors.nombrepersonnes }}</p>
                    </div>
        {% endif %}

        <div class="uk-margin">
            <input class="uk-input" name="date" type="date" aria-label="Input" required value={{reservation.date}}>
        </div>
        {% if errors.date is defined %} 
                    <div class="uk-alert-danger" uk-alert>
                        <a href class="uk-alert-close" uk-close></a>
                        <p>{{ errors.date }}</p>
                    </div>
        {% endif %}

        <div class="uk-margin">
            <textarea class="uk-textarea" name="remarques" type="date" aria-label="Textarea" placeholder="Remarques particulières" rows="5" cols="40">{{reservation.remarques}}</textarea>
        </div>

        <div class="uk-margin">
			<input type="hidden" name="id" value="{{ reservation.id }}">
		</div>

            <button class="uk-button uk-button-secondary uk-button-medium">Modifier la réservation</button>
        </div>

</form>

 </div>
    </div>
    </div>

    {% else %}
        <h4 style="color: red;">Veuillez vous connecter avec votre compte Admin pour effectuer des modifications."</h4>
    {% endif %}

    {% endblock %}